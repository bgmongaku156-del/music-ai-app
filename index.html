<!DOCTYPE html>
<html lang="ja">

<head>

<meta charset="UTF-8">

<meta name="viewport"
content="width=device-width,initial-scale=1">

<title>AI自動作曲</title>

<style>

body{
font-family:sans-serif;
text-align:center;
padding:30px;
background:#111;
color:white;
}

button{
font-size:20px;
padding:15px;
margin:10px;
border-radius:12px;
border:none;
background:#4CAF50;
color:white;
width:220px;
}

input{
font-size:18px;
padding:10px;
width:80%;
}

audio{
width:90%;
margin-top:20px;
}

</style>

</head>

<body>

<h2>AI自動作曲</h2>

<input id="prompt"
placeholder="Driving EDM">

<br><br>

<button onclick="generate(10)">
10分MP3生成
</button>

<br>

<button onclick="generate(30)">
30分MP3生成
</button>


<br><br>

<audio id="player"
controls></audio>

<br><br>

<a id="download"
style="color:#0f0;font-size:20px"
></a>



<script>

async function generate(minutes){

const prompt =
document.getElementById("prompt").value
|| "Driving EDM";


const url=
"/api/music?prompt="+prompt+
"&minutes="+minutes;


// 再生
const player=
document.getElementById("player");

player.src=url;
player.play();


// ダウンロードリンク
const d=
document.getElementById("download");

d.href=url;

d.innerText=
"MP3ダウンロード ("+
minutes+"分)";

d.download="ai-music.mp3";

}

</script>

</body>

</html>
